(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e){e.exports={b:[{value:4,text:"small"},{value:6,text:"medium"},{value:10,text:"large"}],a:[{value:3,text:"beginner"},{value:4,text:"middle"},{value:5,text:"expert"}]}},31:function(e){e.exports={a:[{path:"./",name:"main"},{path:"./settings",name:"settings"},{path:"./game",name:"game"}]}},32:function(e,t,n){e.exports=n(60)},38:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),l=n(6),i=n(25),s=n(26),u=n.n(s),m=n(5),d={list:{},loading:!1,error:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DOGS_BEGIN":return Object(m.a)({},e,{loading:!0,error:null});case"GET_DOGS_SUCCESS":return Object(m.a)({},e,{loading:!1,list:t.result});case"GET_DOGS_FAIL":return Object(m.a)({},e,{loading:!1,error:t.error});default:return e}},p={name:"guest"},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_NAME":return Object(m.a)({},e,{name:t.name});default:return e}},h={size:4,loading:!1,error:null,source:[],score:0,selectedDogs:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_NEW_GAME":return Object(m.a)({},e,{source:[],loading:!0,error:null});case"CREATE_GAME_SUCCESS":return Object(m.a)({},e,{loading:!1,source:t.result});case"CREATE_GAME_FAIL":return Object(m.a)({},e,{loading:!1,error:t.error});case"FINISH_GAME":var n=e.source.filter(function(e){return e.isActive}),a=e.source.slice();return n.forEach(function(e){a[e.id].isActive=!1}),Object(m.a)({},e,{score:t.score,source:a,selectedDogs:[]});case"NEXT_MOVE_GAME":var r=e.source.slice();return t.newInActiveDogs.forEach(function(e){r[e.id]=e}),Object(m.a)({},e,{source:r,selectedDogs:t.selectedDogs,score:t.score});default:return e}},v=Object(l.c)({dogs:f,user:g,game:E}),b=(n(38),n(14)),_=n(62),N=n(63),O=function(e,t){var n={},a={list:"https://dog.ceo/api/breeds/list/all",breed:"https://dog.ceo/api/breed/".concat(e,"/images"),subBreed:"https://dog.ceo/api/breed/".concat(e,"/images"),random:"https://dog.ceo/api/breeds/image/random/".concat(t),breedRandom:"https://dog.ceo/api/breed/".concat(e,"/images/random/").concat(t),subBreedRandom:"https://dog.ceo/api/breed/".concat(e,"/images/random/").concat(t)};return Object.keys(a).map(function(e){return n[e]=a[e],n}),n};function y(e){var t=e.source,n=e.exactly,a=e.amount;return O(n,a)[t]}var G=function(e){return{type:"GET_DOGS_BEGIN",query:e}},j=function(e,t){return{type:"GET_DOGS_SUCCESS",query:e,result:t}},A=function(e){return{type:"GET_DOGS_FAIL",error:e}};n(45);var S=n(64),x=function(){return r.a.createElement("div",null,"Hello")},C=n(7),D=n(8),k=n(10),w=n(9),M=n(11),I=n(12);n(47),n(49);function T(e){var t=e.id,n=e.value,a=e.handleChange,c=e.options,o=e.labelName,l=c.map(function(e){return r.a.createElement("option",{value:e.value,key:"".concat(e.value).concat(t)},e.text)});return r.a.createElement("label",{className:"BaseSelect",htmlFor:t},r.a.createElement("span",null,o),r.a.createElement("select",{className:"BaseSelect__options",id:t,value:n,onChange:a},l))}T.defaultProps={labelName:""};var F=n(19),R=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(w.a)(t).call(this,e))).handleChange=function(e){return n.setState(Object(I.a)({},e.target.id,e.target.value))},n.handleSubmit=function(){console.log("change settings")},n.state={name:"",size:4,complexity:3},n}return Object(M.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.size,c=t.complexity;return r.a.createElement("form",{className:"SettingsForm"},r.a.createElement("h3",null,"Preferences"),r.a.createElement("label",{className:"SettingsForm__preferencesElement",htmlFor:"name"},r.a.createElement("span",null,"name:"),r.a.createElement("input",{className:"SettingsForm__input",type:"text",id:"name",placeholder:"your name",value:n,onChange:this.handleChange})),r.a.createElement(T,{id:"size",value:+a,handleChange:function(t){return e.handleChange(t)},options:F.b,labelName:"select game size:"}),r.a.createElement(T,{id:"complexity",value:+c,handleChange:function(t){return e.handleChange(t)},options:F.a,labelName:"select game complexity:"}),r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:this.handleSubmit},"Set preferences")))}}]),t}(a.Component),z=(n(51),function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Settings"},r.a.createElement(R,null))}}]),t}(a.Component)),B=(n(53),n(28)),P=n.n(B),U=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).createNewGame=function(){var e=n.props,t=e.size,a=e.list;(0,e.createGame)(t,a)},n}return Object(M.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.createNewGame()}},{key:"render",value:function(){var e=this.props,t=e.source,n=e.selectDog,a=e.selectedDogs,c=e.game,o=t.map(function(e,t){var o=P()("Game__boxElem",{Game__boxElem_inactive:!e.isActive,Game__boxElem_selected:0!==a.length&&a[0].id===e.id});return r.a.createElement("div",{key:"".concat(e.image,"_").concat(t.toString()),className:o,role:"button",onClick:function(){return n(e,c)},onKeyUp:function(){},tabIndex:"-1"},r.a.createElement("img",{className:"Game__boxImage",src:e.image,alt:"dog"}))});return r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Game__moveDescription"},r.a.createElement("p",null,"Find dogs of the same breed"),r.a.createElement("p",null,r.a.createElement("span",{className:"Game__description"},"selected breed: "),0!==a.length?a[0].breed:"nothing selected"),r.a.createElement("p",null,r.a.createElement("span",{className:"Game__description"},"score: "),c.score),r.a.createElement("div",{className:"Game__navigation"},r.a.createElement("button",{type:"button",className:"Game__buttonNew",onClick:this.createNewGame},"Start another game"))),r.a.createElement("div",{className:"Game__area"},o))}}]),t}(a.Component),L=n(20),H=n.n(L),q=n(29),J=function(e){var t=Math.random()*e;return t=Math.floor(t)},V=function(e,t){var n=new Array(Math.pow(e,2)/2).fill(!0),a=[];return n.forEach(function(){var e=J(t.length);a.push(t[e])}),a},W=function(e){return e.flatMap(function(e){return e.message.map(function(t){return{breed:e.exactly,image:t}})})},X=function(e){var t=e;if(void 0!==e){for(var n=0;n<t.length;n+=1){var a=t[n],r=J(t.length);t[n]=t[r],t[r]=a}for(var c=0;c<t.length;c+=1)t[c].id=c,t[c].isActive=!0}return t},K=function(e){return{type:"CREATE_GAME_SUCCESS",result:e}},Q=function(e,t,n){return{type:"NEXT_MOVE_GAME",selectedDogs:e,newInActiveDogs:t,score:n}},Y=function(e,t){return function(){var n=Object(q.a)(H.a.mark(function n(a){var r,c,o,l,i;return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(Object.keys(t).length>0)){n.next=18;break}return a({type:"CREATE_NEW_GAME"}),r=V(e,Object.keys(t)),c=r.map(function(e){return{source:"breedRandom",exactly:e,amount:2}}),o=c.map(function(e){return y(e)}),n.prev=5,n.next=8,Promise.all(o.map(function(e){return fetch(e).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){console.log("error",e)})}));case 8:n.sent.forEach(function(e,t){Object.assign(c[t],e)}),l=W(c),i=X(l),a(K(i)),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),a({type:"CREATE_GAME_FAIL",error:n.t0});case 18:case"end":return n.stop()}},n,this,[[5,15]])}));return function(e){return n.apply(this,arguments)}}()},Z=function(e,t){return function(n){if(0===t.selectedDogs.length)return n(Q([e],[],t.score));var a=t.selectedDogs[0];if(e.breed!==a.breed||e.id===a.id)return n(Q([],[],t.score));var r=Object.assign({},a),c=Object.assign({},e);r.isActive=!1,c.isActive=!1;var o=t.score+2;return n(2===t.source.filter(function(e){return e.isActive}).length?{type:"FINISH_GAME",score:o}:Q([],[r,c],o))}};var $=Object(b.b)(function(e){return{list:e.dogs.list,size:e.game.size,game:e.game,source:e.game.source,selectedDogs:e.game.selectedDogs}},function(e){return{createGame:function(t,n){return e(Y(t,n))},selectDog:function(t,n){return e(Z(t,n))}}})(function(e){return r.a.createElement(U,e)}),ee=function(){return r.a.createElement(S.a,null,r.a.createElement(N.a,{path:"/game",exact:!0,component:$}),r.a.createElement(N.a,{path:"/settings",component:z}),r.a.createElement(N.a,{path:"/",exact:!0,component:x}))},te=(n(58),n(61));function ne(e){var t=e.links.map(function(e){return r.a.createElement("li",{className:"NavigationPanel__item",key:"".concat(e.path)},r.a.createElement(te.a,{className:"NavigationPanel__link",to:e.path},e.name))});return r.a.createElement("nav",{className:"NavigationPanel"},r.a.createElement("ul",{className:"NavigationPanel__list"},t))}var ae=n(31);function re(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App__header"},r.a.createElement(ne,{links:ae.a})),r.a.createElement("main",{className:"App__main"},r.a.createElement(ee,null)),r.a.createElement("footer",{className:"App__footer"}))}var ce=function(e){var t,n=e.store;return n.dispatch((t={source:"list",exactly:"",amount:null},function(e){return e(G(t)),fetch(y(t)).then(function(e){return e.json()}).then(function(n){return e(j(t,n.message))}).catch(function(t){return console.log("err",t),e(A(t))})})),r.a.createElement(b.a,{store:n},r.a.createElement(_.a,null,r.a.createElement(N.a,{path:"/",component:re})))},oe=Object(l.d)(v,Object(l.a)(i.a,u.a));o.a.render(r.a.createElement(ce,{store:oe}),document.getElementById("root"));t.default=oe}},[[32,2,1]]]);
//# sourceMappingURL=main.e77ea4a5.chunk.js.map