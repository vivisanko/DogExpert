(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e){e.exports={b:[{value:4,text:"small"},{value:6,text:"medium"},{value:10,text:"large"}],a:[{value:2,text:"beginner"},{value:4,text:"expert"}]}},31:function(e){e.exports={a:[{path:"/",name:"main"},{path:"/settings",name:"settings"},{path:"/game",name:"game"}]}},32:function(e,t,n){e.exports=n(60)},38:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),i=n(6),l=n(25),s=n(26),u=n.n(s),m=n(5),p={list:{},loading:!1,error:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DOGS_BEGIN":return Object(m.a)({},e,{loading:!0,error:null});case"GET_DOGS_SUCCESS":return Object(m.a)({},e,{loading:!1,list:t.result});case"GET_DOGS_FAIL":return Object(m.a)({},e,{loading:!1,error:t.error});default:return e}},d={name:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_NAME":return Object(m.a)({},e,{name:t.name});default:return e}},E={size:4,complexity:2,loading:!1,error:null,source:[],score:0,selectedDogs:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_NEW_GAME":return Object(m.a)({},e,{source:[],loading:!0,error:null});case"CREATE_GAME_SUCCESS":return Object(m.a)({},e,{loading:!1,source:t.result});case"CREATE_GAME_FAIL":return Object(m.a)({},e,{loading:!1,error:t.error});case"FINISH_GAME":var n=e.source.filter(function(e){return e.isActive}),a=e.source.slice();return n.forEach(function(e){a[e.id].isActive=!1}),Object(m.a)({},e,{score:t.score,source:a,selectedDogs:[]});case"CHANGE_GAME_SETTINGS":return Object(m.a)({},e,{size:t.size,complexity:t.complexity});case"NEXT_MOVE_GAME":var r=e.source.slice();return t.newInActiveDogs.forEach(function(e){r[e.id]=e}),Object(m.a)({},e,{source:r,selectedDogs:t.selectedDogs,score:t.score});default:return e}},v=Object(i.c)({dogs:f,user:g,game:h}),b=(n(38),n(10)),_=n(62),y=n(63),N=function(e,t){var n={},a={list:"https://dog.ceo/api/breeds/list/all",breed:"https://dog.ceo/api/breed/".concat(e,"/images"),subBreed:"https://dog.ceo/api/breed/".concat(e,"/images"),random:"https://dog.ceo/api/breeds/image/random/".concat(t),breedRandom:"https://dog.ceo/api/breed/".concat(e,"/images/random/").concat(t),subBreedRandom:"https://dog.ceo/api/breed/".concat(e,"/images/random/").concat(t)};return Object.keys(a).map(function(e){return n[e]=a[e],n}),n};function G(e){var t=e.source,n=e.exactly,a=e.amount;return N(n,a)[t]}var x=function(e){return{type:"GET_DOGS_BEGIN",query:e}},O=function(e,t){return{type:"GET_DOGS_SUCCESS",query:e,result:t}},S=function(e){return{type:"GET_DOGS_FAIL",error:e}};n(45);var A=n(64),j=function(){return r.a.createElement("div",null,"Hello")},C=n(7),D=n(8),k=n(11),M=n(9),w=n(12),T=(n(47),n(13));n(49),n(51);function I(e){var t=e.id,n=e.value,a=e.handleChange,c=e.options,o=e.labelName,i=c.map(function(e){return r.a.createElement("option",{value:e.value,key:"".concat(e.value).concat(t)},e.text)});return r.a.createElement("label",{className:"BaseSelect",htmlFor:t},r.a.createElement("span",null,o),r.a.createElement("select",{className:"BaseSelect__options",id:t,value:n,onChange:a},i))}I.defaultProps={labelName:""};var z=n(19),F=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(M.a)(t).call(this,e))).handleChange=function(e){return n.setState(Object(T.a)({},e.target.id,e.target.value))},n.handleSubmit=function(){var e=n.state,t=e.name,a=e.size,r=e.complexity,c=n.props,o=c.changeSettings,i=c.changeName;o(+a,+r),i(t)},n.state={name:"",size:4,complexity:2},n}return Object(w.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.size,a=e.complexity;this.setState({name:t,size:n,complexity:a})}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.size,c=t.complexity;return r.a.createElement("form",{className:"SettingsForm"},r.a.createElement("h3",null,"Preferences"),r.a.createElement("label",{className:"SettingsForm__preferencesElement",htmlFor:"name"},r.a.createElement("span",null,"name:"),r.a.createElement("input",{className:"SettingsForm__input",type:"text",id:"name",placeholder:"your name",value:n,onChange:this.handleChange})),r.a.createElement(I,{id:"size",value:+a,handleChange:function(t){return e.handleChange(t)},options:z.b,labelName:"select game size:"}),r.a.createElement(I,{id:"complexity",value:+c,handleChange:function(t){return e.handleChange(t)},options:z.a,labelName:"select game complexity:"}),r.a.createElement("div",null,r.a.createElement("button",{className:"SettingsForm__button",type:"button",onClick:this.handleSubmit},"Set preferences")))}}]),t}(a.Component),R=function(e){return{type:"CREATE_GAME_SUCCESS",result:e}},B=function(e,t){return{type:"CHANGE_GAME_SETTINGS",size:e,complexity:t}},P=function(e,t,n){return{type:"NEXT_MOVE_GAME",selectedDogs:e,newInActiveDogs:t,score:n}},U=function(e){return{type:"SET_USER_NAME",name:e}};var H=Object(b.b)(function(e){return{size:e.game.size,complexity:e.game.complexity,name:e.user.name}},function(e){return{changeSettings:function(t,n){return e(B(t,n))},changeName:function(t){return e(U(t))}}})(function(e){return r.a.createElement(F,e)}),L=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Settings"},r.a.createElement(H,null))}}]),t}(a.Component),q=(n(53),n(28)),J=n.n(q),V=function(e){function t(){var e,n;Object(C.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(k.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).createNewGame=function(){var e=n.props,t=e.size,a=e.list;(0,e.createGame)(t,a,e.complexity)},n}return Object(w.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.createNewGame()}},{key:"render",value:function(){var e=this.props,t=e.source,n=e.selectDog,a=e.selectedDogs,c=e.game,o=t.map(function(e,t){var o=J()("Game__boxElem",{Game__boxElem_inactive:!e.isActive,Game__boxElem_selected:0!==a.length&&a.some(function(t){return t.id===e.id})});return r.a.createElement("div",{key:"".concat(e.image,"_").concat(t.toString()),className:o,role:"button",onClick:function(){return n(e,c)},onKeyUp:function(){},tabIndex:"-1"},r.a.createElement("img",{className:"Game__boxImage",src:e.image,alt:"dog"}))});return r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Game__moveDescription"},r.a.createElement("p",null,"Find dogs of the same breed"),r.a.createElement("p",null,r.a.createElement("span",{className:"Game__description"},"selected breed: "),0!==a.length?a[0].breed:""),r.a.createElement("p",null,r.a.createElement("span",{className:"Game__description"},"score: "),c.score),r.a.createElement("div",{className:"Game__navigation"},r.a.createElement("button",{type:"button",className:"Game__buttonNew",onClick:this.createNewGame},"Start another game"))),r.a.createElement("div",{className:"Game__area"},o))}}]),t}(a.Component),W=n(20),X=n.n(W),K=n(29),Q=function(e){var t=Math.random()*e;return t=Math.floor(t)},Y=function(e,t,n){var a=new Array(Math.pow(e,2)/n).fill(!0),r=[];return a.forEach(function(){var e=Q(t.length);r.push(t[e])}),r},Z=function(e,t){return e.map(function(e){return{source:"breedRandom",exactly:e,amount:t}})},$=function(e){return e.flatMap(function(e){return e.message.map(function(t){return{breed:e.exactly,image:t}})})},ee=function(e){var t=e;if(void 0!==e){for(var n=0;n<t.length;n+=1){var a=t[n],r=Q(t.length);t[n]=t[r],t[r]=a}for(var c=0;c<t.length;c+=1)t[c].id=c,t[c].isActive=!0}return t},te=function(e,t,n){return function(){var a=Object(K.a)(X.a.mark(function a(r){var c,o,i,l,s;return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(Object.keys(t).length>0)){a.next=18;break}return r({type:"CREATE_NEW_GAME"}),c=Y(e,Object.keys(t),n),o=Z(c,n),i=o.map(function(e){return G(e)}),a.prev=5,a.next=8,Promise.all(i.map(function(e){return fetch(e).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){console.log("error",e)})}));case 8:a.sent.forEach(function(e,t){Object.assign(o[t],e)}),l=$(o),s=ee(l),r(R(s)),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(5),r({type:"CREATE_GAME_FAIL",error:a.t0});case 18:case"end":return a.stop()}},a,this,[[5,15]])}));return function(e){return a.apply(this,arguments)}}()},ne=function(e,t){return function(n){if(0===t.selectedDogs.length)return n(P([e],[],t.score));var a=t.selectedDogs[0];if(e.breed!==a.breed||0!==t.selectedDogs.filter(function(t){return t.id===e.id}).length)return n(P([],[],t.score));var r=t.selectedDogs.length+1<t.complexity,c=t.selectedDogs.concat(e),o=r?c:[],i=r?[]:c,l=0;0!==i.length&&i.forEach(function(e,n){i[n].isActive=!1,l=t.complexity});var s=t.score+l;return n(0===t.source.filter(function(e){return e.isActive}).length?{type:"FINISH_GAME",score:s}:P(o,i,s))}};var ae=Object(b.b)(function(e){return{list:e.dogs.list,size:e.game.size,complexity:e.game.complexity,game:e.game,source:e.game.source,selectedDogs:e.game.selectedDogs}},function(e){return{createGame:function(t,n,a){return e(te(t,n,a))},selectDog:function(t,n){return e(ne(t,n))}}})(function(e){return r.a.createElement(V,e)}),re=function(){return r.a.createElement(A.a,null,r.a.createElement(y.a,{path:"/game",exact:!0,component:ae}),r.a.createElement(y.a,{path:"/settings",component:L}),r.a.createElement(y.a,{path:"/",exact:!0,component:j}))},ce=(n(58),n(61));function oe(e){var t=e.links.map(function(e){return r.a.createElement("li",{className:"NavigationPanel__item",key:"".concat(e.path)},r.a.createElement(ce.a,{className:"NavigationPanel__link",to:e.path},e.name))});return r.a.createElement("nav",{className:"NavigationPanel"},r.a.createElement("ul",{className:"NavigationPanel__list"},t))}var ie=n(31);function le(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App__header"},r.a.createElement(oe,{links:ie.a})),r.a.createElement("main",{className:"App__main"},r.a.createElement(re,null)),r.a.createElement("footer",{className:"App__footer"}))}var se=function(e){var t,n=e.store;return n.dispatch((t={source:"list",exactly:"",amount:null},function(e){return e(x(t)),fetch(G(t)).then(function(e){return e.json()}).then(function(n){return e(O(t,n.message))}).catch(function(t){return console.log("err",t),e(S(t))})})),r.a.createElement(b.a,{store:n},r.a.createElement(_.a,{basename:"/DogExpert"},r.a.createElement(y.a,{path:"/",component:le})))},ue=Object(i.d)(v,Object(i.a)(l.a,u.a));o.a.render(r.a.createElement(se,{store:ue}),document.getElementById("root"));t.default=ue}},[[32,2,1]]]);
//# sourceMappingURL=main.76f8fc7c.chunk.js.map